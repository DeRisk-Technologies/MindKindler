(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9815],{3998:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>o});var r=s(95155),a=s(12115),n=s(17129),i=s(83101),l=s(64269);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:s})),ref:t,...c})});d.displayName="Button"},14585:(e,t,s)=>{"use strict";s.d(t,{db:()=>o,j2:()=>d});var r=s(52078),a=s(19708),n=s(59253),i=s(68871);let l=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyDEOFFGICbWClq9KvPK7WGxGTluShM_wpg",authDomain:"studio-1557923276-46e4b.firebaseapp.com",projectId:"studio-1557923276-46e4b",storageBucket:"studio-1557923276-46e4b.firebasestorage.app",messagingSenderId:"555793507902",appId:"1:555793507902:web:95f046942832edc23b136f"}),o=(0,a.getFirestore)(l),d=(0,n.xI)(l);(0,i.TT)().then(e=>{e&&(0,i.P5)(l)}).catch(console.error)},15894:(e,t,s)=>{"use strict";s.d(t,{dj:()=>u});var r=s(12115);let a=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=[],o={toasts:[]};function d(e){o=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(o,e),l.forEach(e=>{e(o)})}function c(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,t]=r.useState(o);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},17129:(e,t,s)=>{"use strict";s.d(t,{DX:()=>l,TL:()=>i});var r=s(12115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var n=s(95155);function i(e){let t=function(e){let t=r.forwardRef((e,t)=>{let{children:s,...n}=e;if(r.isValidElement(s)){var i;let e,l,o=(i=s,(l=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(l=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,t){let s={...t};for(let r in t){let a=e[r],n=t[r];/^on[A-Z]/.test(r)?a&&n?s[r]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(s[r]=a):"style"===r?s[r]={...a,...n}:"className"===r&&(s[r]=[a,n].filter(Boolean).join(" "))}return{...e,...s}}(n,s.props);return s.type!==r.Fragment&&(d.ref=t?function(...e){return t=>{let s=!1,r=e.map(e=>{let r=a(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():a(e[t],null)}}}}(t,o):o),r.cloneElement(s,d)}return r.Children.count(s)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),s=r.forwardRef((e,s)=>{let{children:a,...i}=e,l=r.Children.toArray(a),o=l.find(d);if(o){let e=o.props.children,a=l.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...i,ref:s,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,n.jsx)(t,{...i,ref:s,children:a})});return s.displayName=`${e}.Slot`,s}var l=i("Slot"),o=Symbol("radix.slottable");function d(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},20063:(e,t,s)=>{"use strict";var r=s(47260);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},21874:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(95155),a=s(12115),n=s(20063),i=s(19708),l=s(14585),o=s(3998),d=s(86948),c=s(31120),u=s(65142),f=s(92033),p=s(53489),m=s(73180),x=s(59338),h=s(15894);function g(){var e;let{id:t}=(0,n.useParams)();(0,n.useRouter)();let{toast:s}=(0,h.dj)(),[g,v]=(0,a.useState)(null),[y,b]=(0,a.useState)(!0),[j,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{if(t)try{let e=(0,i.doc)(l.db,"reports",t),s=await (0,i.getDoc)(e);s.exists()&&v({id:s.id,...s.data()})}catch(e){console.error(e)}finally{b(!1)}})()},[t]);let w=async()=>{if(g){N(!0);try{await (0,i.updateDoc)((0,i.doc)(l.db,"reports",g.id),{...g,status:"final"}),s({title:"Saved",description:"Report updated successfully."})}catch(e){s({title:"Error",description:"Failed to save report.",variant:"destructive"})}finally{N(!1)}}};return y||!g?(0,r.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,r.jsx)(f.A,{className:"animate-spin"})}):(0,r.jsxs)("div",{className:"space-y-6 p-8 pt-6 max-w-5xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Report Editor"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Review and finalize the clinical documentation."})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(o.$,{variant:"outline",children:[(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Export PDF"]}),(0,r.jsxs)(o.$,{onClick:w,disabled:j,children:[j&&(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"})," Save Final"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"col-span-2 space-y-6",children:(0,r.jsxs)(d.Zp,{children:[(0,r.jsx)(d.aR,{children:(0,r.jsx)(u.p,{className:"text-xl font-bold border-none px-0 shadow-none focus-visible:ring-0",value:g.title,onChange:e=>v({...g,title:e.target.value})})}),(0,r.jsx)(d.Wu,{className:"space-y-6",children:null==(e=g.sections)?void 0:e.map((e,t)=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-sm uppercase tracking-wider text-muted-foreground",children:e.title}),(0,r.jsx)(c.T,{className:"min-h-[150px] leading-relaxed resize-none",value:e.content,onChange:e=>((e,t)=>{if(!g)return;let s=[...g.sections];s[e].content=t,v({...g,sections:s})})(t,e.target.value)}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(o.$,{variant:"ghost",size:"sm",className:"text-xs text-indigo-500",children:[(0,r.jsx)(x.A,{className:"mr-1 h-3 w-3"})," Rewrite with AI"]})})]},t))})]})}),(0,r.jsxs)("div",{className:"col-span-1 space-y-4",children:[(0,r.jsxs)(d.Zp,{children:[(0,r.jsx)(d.aR,{children:(0,r.jsx)(d.ZB,{className:"text-sm",children:"Metadata"})}),(0,r.jsxs)(d.Wu,{className:"text-sm space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Date:"}),(0,r.jsx)("span",{children:new Date(g.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Author:"}),(0,r.jsx)("span",{children:"Dr. EPP"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Language:"}),(0,r.jsx)("span",{className:"uppercase",children:g.language})]})]})]}),(0,r.jsxs)(d.Zp,{className:"bg-blue-50/50 border-blue-100",children:[(0,r.jsx)(d.aR,{children:(0,r.jsx)(d.ZB,{className:"text-sm text-blue-700",children:"AI Suggestions"})}),(0,r.jsx)(d.Wu,{className:"text-sm space-y-2 text-muted-foreground",children:(0,r.jsx)("p",{children:'Consider adding more detail to the "Social History" section regarding peer interactions.'})})]})]})]})]})}},31120:(e,t,s)=>{"use strict";s.d(t,{T:()=>i});var r=s(95155),a=s(12115),n=s(64269);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...a})});i.displayName="Textarea"},53489:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},59338:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},64269:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(2821),a=s(75889);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},65142:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(95155),a=s(12115),n=s(64269);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"},73180:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},83942:(e,t,s)=>{Promise.resolve().then(s.bind(s,21874))},86948:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>l,wL:()=>u});var r=s(95155),a=s(12115),n=s(64269);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},92033:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{e.O(0,[2992,3644,830,5936,7590,8441,1255,7358],()=>e(e.s=83942)),_N_E=e.O()}]);